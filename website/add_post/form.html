<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="styles.css" rel="stylesheet">
		<link href="../styles.css" rel="stylesheet">
	</head>
	<body>
		<header>
			<nav>
				<ul id="navBar">
					<li><a href="../index.html">Home</a></li>
					<li><a href="../cat/cats.html">Cat</a></li>
					<li><a href="../dog/index.html">Dog</a></li>
					<li><a href="./form.html">Add your post</a></li>
					<li><a href="../../cgi-bin/about_us.py">About us</a></li>
				</ul>
			</nav>
		</header>

		<form id="mainForm" action="../../cgi-bin/add_post.py" method="POST" enctype="multipart/form-data">
			<div>
				<label for="name">pet's name</label>
				<input type="text" required="required" name="name" id="name">
			</div>
			<div>
				<label for="pet_type">Pet type</label>
				<div class="Pet_Radio" required="required" id="pet_type">
					<ul>
						<li><div><label><input type="radio" name="petType" value="cat">cat</label></div></li>
						<li><div><label><input type="radio" name="petType" value="dog">dog</label></div></li>
					</ul>
				</div>
			</div>
			<div>
				<label for="age">Pet's age</label>
				<input type="text" required="required" name="age" id="age">
			</div>	
			<div>
				<label for="parents">Pet's parent(s)</label>
				<input type="text" required="required" name="parents" id="parents">
			</div>
			<div>
				<label for="about">about pet</label>
				<input type="text" required="required" name="about" id="about">
			</div>
			<div>
				<input type="reset" value="Reset">
			</div>
			<div>
				<input type="submit" value="submit">
			</div>
		</form>

		<!-- <form id="photoForm" action="../../cgi-bin/add_file.py" method="POST" enctype="multipart/form-data">
			<div>
				<label for="photo">Upload photo</label>
				<input type="file" required="required" name="photo" id="photo">
				<input type="submit" value="Upload">
			</div>
		</form> -->

	</body>
	<script>
		const radioButtons = document.querySelectorAll('.Pet_Radio input[type="radio"]');
			const labels = document.querySelectorAll('.Pet_Radio label');

			// Add click event listener to each radio button
			radioButtons.forEach((radioButton, index) => {
				radioButton.addEventListener('click', () => {
					// Reset color for all labels
					labels.forEach(label => {
						label.style.backgroundColor = '';
						label.style.color = '';
					});

					// Set color for the selected label
					labels[index].style.backgroundColor = '#3CB371';
					labels[index].style.color = 'white';
				});
			});
		document.getElementById('mainForm').addEventListener('submit', function(event) {
			event.preventDefault(); // Prevent the default form submission

			// Submit the main form
			const mainForm = document.getElementById('mainForm');
			const formData = new FormData(mainForm);
			fetch(mainForm.action, {
				method: 'POST',
				body: formData
			});

			// Submit the photo form
			const photoForm = document.getElementById('photoForm');
			const photoFormData = new FormData(photoForm);
			fetch(photoForm.action, {
				method: 'POST',
				body: photoFormData
			});
		});
	</script>
</html>
